{
  "hash": "f5a207be4bb3225dd31c5e468f818474",
  "result": {
    "engine": "jupyter",
    "markdown": "---\ntitle: \"Intro to PD\"\n---\n\n::: {#fed76e9b .cell execution_count=1}\n``` {.python .cell-code}\nimport pandas as pd\nimport numpy as np\nfrom pandas import Series, DataFrame\n```\n:::\n\n\n## Series\n\n### Creation\n\n::: {#dd065e3a .cell execution_count=2}\n``` {.python .cell-code}\nobj = pd.Series([4, 7, -5, 3])\ntype(obj)\nobj\n```\n\n::: {.cell-output .cell-output-display execution_count=2}\n```\n0    4\n1    7\n2   -5\n3    3\ndtype: int64\n```\n:::\n:::\n\n\n::: {#9e424086 .cell execution_count=3}\n``` {.python .cell-code}\n# Array Representation\nobj.array\ntype(obj.array)\n\n# Index\nobj.index\ntype(obj.index)\n```\n\n::: {.cell-output .cell-output-display execution_count=3}\n```\npandas.core.indexes.range.RangeIndex\n```\n:::\n:::\n\n\nSeries with index\n\n::: {#d45bf7a5 .cell execution_count=4}\n``` {.python .cell-code}\nobj2 = pd.Series([4, 7, -5, 3], index=[\"d\", \"b\", \"a\", \"c\"])\nobj2\n\n# Index\nobj2.index\n```\n\n::: {.cell-output .cell-output-display execution_count=4}\n```\nIndex(['d', 'b', 'a', 'c'], dtype='object')\n```\n:::\n:::\n\n\nFrom `Dict`\n\n::: {#e3b7869d .cell execution_count=5}\n``` {.python .cell-code}\nsdata = {\"Ohio\": 35000, \"Texas\": 71000, \"Oregon\": 16000, \"Utah\": 5000}\nobj3 = pd.Series(sdata)\nobj3\n```\n\n::: {.cell-output .cell-output-display execution_count=5}\n```\nOhio      35000\nTexas     71000\nOregon    16000\nUtah       5000\ndtype: int64\n```\n:::\n:::\n\n\nBack to `Dict`, `List`, etc.\n\n::: {#e22e5e1b .cell execution_count=6}\n``` {.python .cell-code}\nobj3.to_dict()\nobj3.to_list()\n```\n\n::: {.cell-output .cell-output-display execution_count=6}\n```\n[35000, 71000, 16000, 5000]\n```\n:::\n:::\n\n\n### Subset Series\n\n::: {#3f86f4e3 .cell execution_count=7}\n``` {.python .cell-code}\n# Position\nobj2[0] \n\n# Index\nobj2[\"d\"]\n\n# list of indices\nobj2[[\"d\", \"a\"]]\n\n# Logical\nobj2[obj2 > 0]\n\n# Assign\nobj2[\"c\"] = 10\nobj2\n```\n\n::: {.cell-output .cell-output-stderr}\n```\n/var/folders/70/7wmmf6t55cb84bfx9g1c1k1m0000gn/T/ipykernel_90697/748481342.py:2: FutureWarning: Series.__getitem__ treating keys as positions is deprecated. In a future version, integer keys will always be treated as labels (consistent with DataFrame behavior). To access a value by position, use `ser.iloc[pos]`\n  obj2[0]\n```\n:::\n\n::: {.cell-output .cell-output-display execution_count=7}\n```\nd     4\nb     7\na    -5\nc    10\ndtype: int64\n```\n:::\n:::\n\n\n### Vectorized Operation\n\n::: {#70427fa5 .cell execution_count=8}\n``` {.python .cell-code}\nobj2 * 2\n```\n\n::: {.cell-output .cell-output-display execution_count=8}\n```\nd     8\nb    14\na   -10\nc    20\ndtype: int64\n```\n:::\n:::\n\n\n Series is as a fixed-length, ordered dictionary\n\n::: {#2dfcf1c5 .cell execution_count=9}\n``` {.python .cell-code}\n\"b\" in obj2\n```\n\n::: {.cell-output .cell-output-display execution_count=9}\n```\nTrue\n```\n:::\n:::\n\n\n### Missing Value\n\n::: {#165c5abd .cell execution_count=10}\n``` {.python .cell-code}\nx = pd.Series([1, 2, None])\nx\n# Check NA\nx.isna()\nx.notna()\n```\n\n::: {.cell-output .cell-output-display execution_count=10}\n```\n0     True\n1     True\n2    False\ndtype: bool\n```\n:::\n:::\n\n\n### Auto-align arithmatic\n\n::: {#7e28207a .cell execution_count=11}\n``` {.python .cell-code}\nstates = [\"California\", \"Ohio\", \"Oregon\", \"Texas\"]\nobj4 = pd.Series(sdata, index=states)\n```\n:::\n\n\n::: {#8d1939d0 .cell execution_count=12}\n``` {.python .cell-code}\nobj3\nobj4\n```\n\n::: {.cell-output .cell-output-display execution_count=12}\n```\nCalifornia        NaN\nOhio          35000.0\nOregon        16000.0\nTexas         71000.0\ndtype: float64\n```\n:::\n:::\n\n\nData alignment features\n\n::: {#abaad3d7 .cell execution_count=13}\n``` {.python .cell-code}\nobj3 + obj4\n```\n\n::: {.cell-output .cell-output-display execution_count=13}\n```\nCalifornia         NaN\nOhio           70000.0\nOregon         32000.0\nTexas         142000.0\nUtah               NaN\ndtype: float64\n```\n:::\n:::\n\n\n### `name` Attribute\n\n::: {#94bfffa6 .cell execution_count=14}\n``` {.python .cell-code}\nobj4.name = \"population\"\nobj4.index.name = \"state\"\nobj4\n```\n\n::: {.cell-output .cell-output-display execution_count=14}\n```\nstate\nCalifornia        NaN\nOhio          35000.0\nOregon        16000.0\nTexas         71000.0\nName: population, dtype: float64\n```\n:::\n:::\n\n\n## DataFrame\n\nSee [Comparison with R data.frame](https://pandas.pydata.org/docs/getting_started/comparison/comparison_with_r.html#compare-with-r)\n\n\nit can be thought of as a dictionary of Series all sharing the same index.\n\n### Creation\n\n::: {#e3be7d98 .cell execution_count=15}\n``` {.python .cell-code}\ndata = {\"state\": [\"Ohio\", \"Ohio\", \"Ohio\", \"Nevada\", \"Nevada\", \"Nevada\"],\n        \"year\": [2000, 2001, 2002, 2001, 2002, 2003],\n        \"pop\": [1.5, 1.7, 3.6, 2.4, 2.9, 3.2]}\n        \nframe = pd.DataFrame(data)\ntype(frame)\nframe\n```\n\n::: {.cell-output .cell-output-display execution_count=15}\n```{=html}\n<div>\n<style scoped>\n    .dataframe tbody tr th:only-of-type {\n        vertical-align: middle;\n    }\n\n    .dataframe tbody tr th {\n        vertical-align: top;\n    }\n\n    .dataframe thead th {\n        text-align: right;\n    }\n</style>\n<table border=\"1\" class=\"dataframe\">\n  <thead>\n    <tr style=\"text-align: right;\">\n      <th></th>\n      <th>state</th>\n      <th>year</th>\n      <th>pop</th>\n    </tr>\n  </thead>\n  <tbody>\n    <tr>\n      <th>0</th>\n      <td>Ohio</td>\n      <td>2000</td>\n      <td>1.5</td>\n    </tr>\n    <tr>\n      <th>1</th>\n      <td>Ohio</td>\n      <td>2001</td>\n      <td>1.7</td>\n    </tr>\n    <tr>\n      <th>2</th>\n      <td>Ohio</td>\n      <td>2002</td>\n      <td>3.6</td>\n    </tr>\n    <tr>\n      <th>3</th>\n      <td>Nevada</td>\n      <td>2001</td>\n      <td>2.4</td>\n    </tr>\n    <tr>\n      <th>4</th>\n      <td>Nevada</td>\n      <td>2002</td>\n      <td>2.9</td>\n    </tr>\n    <tr>\n      <th>5</th>\n      <td>Nevada</td>\n      <td>2003</td>\n      <td>3.2</td>\n    </tr>\n  </tbody>\n</table>\n</div>\n```\n:::\n:::\n\n\nWith specified column arrangement \n\n::: {#f27d71ff .cell execution_count=16}\n``` {.python .cell-code}\nframe2 = pd.DataFrame(data, columns=[\"year\", \"state\", \"pop\", \"debt\"])\nframe2\n\n# Column names\nframe2.columns.to_list()\n```\n\n::: {.cell-output .cell-output-display execution_count=16}\n```\n['year', 'state', 'pop', 'debt']\n```\n:::\n:::\n\n\n::: {#0b2c12e4 .cell execution_count=17}\n``` {.python .cell-code}\n# Shape\nframe.shape\n# Head\nframe.head()\n# Tail\nframe.tail(3)\n```\n\n::: {.cell-output .cell-output-display execution_count=17}\n```{=html}\n<div>\n<style scoped>\n    .dataframe tbody tr th:only-of-type {\n        vertical-align: middle;\n    }\n\n    .dataframe tbody tr th {\n        vertical-align: top;\n    }\n\n    .dataframe thead th {\n        text-align: right;\n    }\n</style>\n<table border=\"1\" class=\"dataframe\">\n  <thead>\n    <tr style=\"text-align: right;\">\n      <th></th>\n      <th>state</th>\n      <th>year</th>\n      <th>pop</th>\n    </tr>\n  </thead>\n  <tbody>\n    <tr>\n      <th>3</th>\n      <td>Nevada</td>\n      <td>2001</td>\n      <td>2.4</td>\n    </tr>\n    <tr>\n      <th>4</th>\n      <td>Nevada</td>\n      <td>2002</td>\n      <td>2.9</td>\n    </tr>\n    <tr>\n      <th>5</th>\n      <td>Nevada</td>\n      <td>2003</td>\n      <td>3.2</td>\n    </tr>\n  </tbody>\n</table>\n</div>\n```\n:::\n:::\n\n\nNested dictionary\n\n::: {#0c6be48e .cell execution_count=18}\n``` {.python .cell-code}\npopulations = {\"Ohio\": {2000: 1.5, 2001: 1.7, 2002: 3.6},\n               \"Nevada\": {2001: 2.4, 2002: 2.9}}\n\npd.DataFrame(populations)\n```\n\n::: {.cell-output .cell-output-display execution_count=18}\n```{=html}\n<div>\n<style scoped>\n    .dataframe tbody tr th:only-of-type {\n        vertical-align: middle;\n    }\n\n    .dataframe tbody tr th {\n        vertical-align: top;\n    }\n\n    .dataframe thead th {\n        text-align: right;\n    }\n</style>\n<table border=\"1\" class=\"dataframe\">\n  <thead>\n    <tr style=\"text-align: right;\">\n      <th></th>\n      <th>Ohio</th>\n      <th>Nevada</th>\n    </tr>\n  </thead>\n  <tbody>\n    <tr>\n      <th>2000</th>\n      <td>1.5</td>\n      <td>NaN</td>\n    </tr>\n    <tr>\n      <th>2001</th>\n      <td>1.7</td>\n      <td>2.4</td>\n    </tr>\n    <tr>\n      <th>2002</th>\n      <td>3.6</td>\n      <td>2.9</td>\n    </tr>\n  </tbody>\n</table>\n</div>\n```\n:::\n:::\n\n\n### Rows & Colums\n\n::: {#2e85b582 .cell execution_count=19}\n``` {.python .cell-code}\nframe.shape\n```\n\n::: {.cell-output .cell-output-display execution_count=19}\n```\n(6, 3)\n```\n:::\n:::\n\n\n::: {#0affa389 .cell execution_count=20}\n``` {.python .cell-code}\nframe.columns\n```\n\n::: {.cell-output .cell-output-display execution_count=20}\n```\nIndex(['state', 'year', 'pop'], dtype='object')\n```\n:::\n:::\n\n\n### Subset\n\n::: {#47add326 .cell execution_count=21}\n``` {.python .cell-code}\nframe2.head()\n```\n\n::: {.cell-output .cell-output-display execution_count=21}\n```{=html}\n<div>\n<style scoped>\n    .dataframe tbody tr th:only-of-type {\n        vertical-align: middle;\n    }\n\n    .dataframe tbody tr th {\n        vertical-align: top;\n    }\n\n    .dataframe thead th {\n        text-align: right;\n    }\n</style>\n<table border=\"1\" class=\"dataframe\">\n  <thead>\n    <tr style=\"text-align: right;\">\n      <th></th>\n      <th>year</th>\n      <th>state</th>\n      <th>pop</th>\n      <th>debt</th>\n    </tr>\n  </thead>\n  <tbody>\n    <tr>\n      <th>0</th>\n      <td>2000</td>\n      <td>Ohio</td>\n      <td>1.5</td>\n      <td>NaN</td>\n    </tr>\n    <tr>\n      <th>1</th>\n      <td>2001</td>\n      <td>Ohio</td>\n      <td>1.7</td>\n      <td>NaN</td>\n    </tr>\n    <tr>\n      <th>2</th>\n      <td>2002</td>\n      <td>Ohio</td>\n      <td>3.6</td>\n      <td>NaN</td>\n    </tr>\n    <tr>\n      <th>3</th>\n      <td>2001</td>\n      <td>Nevada</td>\n      <td>2.4</td>\n      <td>NaN</td>\n    </tr>\n    <tr>\n      <th>4</th>\n      <td>2002</td>\n      <td>Nevada</td>\n      <td>2.9</td>\n      <td>NaN</td>\n    </tr>\n  </tbody>\n</table>\n</div>\n```\n:::\n:::\n\n\n### Select -> `[[`\n\n`R`\n\n```r\nselect(df, col1, col2)\n```\n\n`Py`\n\n```python\ndf[['col1', 'col2']]\n```\n \n \nSelect 1 column\n\n::: {#d079e56e .cell execution_count=22}\n``` {.python .cell-code}\n# Quote or unquote\nframe2[\"state\"]\n\nframe2[\"state\"] is frame2.state\n\ntype(frame2.state) # Series\n```\n\n::: {.cell-output .cell-output-display execution_count=22}\n```\npandas.core.series.Series\n```\n:::\n:::\n\n\n Select multiple column\n\n::: {#ce5f8580 .cell execution_count=23}\n``` {.python .cell-code}\nframe2sub = frame2[[\"state\", \"pop\"]]\ntype(frame2sub) # DF\nframe2sub\n```\n\n::: {.cell-output .cell-output-display execution_count=23}\n```{=html}\n<div>\n<style scoped>\n    .dataframe tbody tr th:only-of-type {\n        vertical-align: middle;\n    }\n\n    .dataframe tbody tr th {\n        vertical-align: top;\n    }\n\n    .dataframe thead th {\n        text-align: right;\n    }\n</style>\n<table border=\"1\" class=\"dataframe\">\n  <thead>\n    <tr style=\"text-align: right;\">\n      <th></th>\n      <th>state</th>\n      <th>pop</th>\n    </tr>\n  </thead>\n  <tbody>\n    <tr>\n      <th>0</th>\n      <td>Ohio</td>\n      <td>1.5</td>\n    </tr>\n    <tr>\n      <th>1</th>\n      <td>Ohio</td>\n      <td>1.7</td>\n    </tr>\n    <tr>\n      <th>2</th>\n      <td>Ohio</td>\n      <td>3.6</td>\n    </tr>\n    <tr>\n      <th>3</th>\n      <td>Nevada</td>\n      <td>2.4</td>\n    </tr>\n    <tr>\n      <th>4</th>\n      <td>Nevada</td>\n      <td>2.9</td>\n    </tr>\n    <tr>\n      <th>5</th>\n      <td>Nevada</td>\n      <td>3.2</td>\n    </tr>\n  </tbody>\n</table>\n</div>\n```\n:::\n:::\n\n\n### Slice \n\n`R`\n\n```r\nslice(df, 1:10)\n```\n\n`Py`\n\n```python\ndf.iloc[:9]\n```\n\n**`.iloc`**: integer location\n\n::: {#8debf9fd .cell execution_count=24}\n``` {.python .cell-code}\nframe.iloc[:3] # First 3 rows\n```\n\n::: {.cell-output .cell-output-display execution_count=24}\n```{=html}\n<div>\n<style scoped>\n    .dataframe tbody tr th:only-of-type {\n        vertical-align: middle;\n    }\n\n    .dataframe tbody tr th {\n        vertical-align: top;\n    }\n\n    .dataframe thead th {\n        text-align: right;\n    }\n</style>\n<table border=\"1\" class=\"dataframe\">\n  <thead>\n    <tr style=\"text-align: right;\">\n      <th></th>\n      <th>state</th>\n      <th>year</th>\n      <th>pop</th>\n    </tr>\n  </thead>\n  <tbody>\n    <tr>\n      <th>0</th>\n      <td>Ohio</td>\n      <td>2000</td>\n      <td>1.5</td>\n    </tr>\n    <tr>\n      <th>1</th>\n      <td>Ohio</td>\n      <td>2001</td>\n      <td>1.7</td>\n    </tr>\n    <tr>\n      <th>2</th>\n      <td>Ohio</td>\n      <td>2002</td>\n      <td>3.6</td>\n    </tr>\n  </tbody>\n</table>\n</div>\n```\n:::\n:::\n\n\n::: {#8f6c86c1 .cell execution_count=25}\n``` {.python .cell-code}\n# Rows, Colums\nframe.iloc[[0,1], [0, 2]]\n```\n\n::: {.cell-output .cell-output-display execution_count=25}\n```{=html}\n<div>\n<style scoped>\n    .dataframe tbody tr th:only-of-type {\n        vertical-align: middle;\n    }\n\n    .dataframe tbody tr th {\n        vertical-align: top;\n    }\n\n    .dataframe thead th {\n        text-align: right;\n    }\n</style>\n<table border=\"1\" class=\"dataframe\">\n  <thead>\n    <tr style=\"text-align: right;\">\n      <th></th>\n      <th>state</th>\n      <th>pop</th>\n    </tr>\n  </thead>\n  <tbody>\n    <tr>\n      <th>0</th>\n      <td>Ohio</td>\n      <td>1.5</td>\n    </tr>\n    <tr>\n      <th>1</th>\n      <td>Ohio</td>\n      <td>1.7</td>\n    </tr>\n  </tbody>\n</table>\n</div>\n```\n:::\n:::\n\n\n**`.loc`:** Location by Labels\n\n::: {#ad8d3182 .cell execution_count=26}\n``` {.python .cell-code}\nframe.loc[[0, 1], [\"state\", \"year\"]]\n```\n\n::: {.cell-output .cell-output-display execution_count=26}\n```{=html}\n<div>\n<style scoped>\n    .dataframe tbody tr th:only-of-type {\n        vertical-align: middle;\n    }\n\n    .dataframe tbody tr th {\n        vertical-align: top;\n    }\n\n    .dataframe thead th {\n        text-align: right;\n    }\n</style>\n<table border=\"1\" class=\"dataframe\">\n  <thead>\n    <tr style=\"text-align: right;\">\n      <th></th>\n      <th>state</th>\n      <th>year</th>\n    </tr>\n  </thead>\n  <tbody>\n    <tr>\n      <th>0</th>\n      <td>Ohio</td>\n      <td>2000</td>\n    </tr>\n    <tr>\n      <th>1</th>\n      <td>Ohio</td>\n      <td>2001</td>\n    </tr>\n  </tbody>\n</table>\n</div>\n```\n:::\n:::\n\n\nSlicing also works\n\n::: {#48d92b9b .cell execution_count=27}\n``` {.python .cell-code}\nframe.loc[0:2, \"state\":\"pop\"]\n```\n\n::: {.cell-output .cell-output-display execution_count=27}\n```{=html}\n<div>\n<style scoped>\n    .dataframe tbody tr th:only-of-type {\n        vertical-align: middle;\n    }\n\n    .dataframe tbody tr th {\n        vertical-align: top;\n    }\n\n    .dataframe thead th {\n        text-align: right;\n    }\n</style>\n<table border=\"1\" class=\"dataframe\">\n  <thead>\n    <tr style=\"text-align: right;\">\n      <th></th>\n      <th>state</th>\n      <th>year</th>\n      <th>pop</th>\n    </tr>\n  </thead>\n  <tbody>\n    <tr>\n      <th>0</th>\n      <td>Ohio</td>\n      <td>2000</td>\n      <td>1.5</td>\n    </tr>\n    <tr>\n      <th>1</th>\n      <td>Ohio</td>\n      <td>2001</td>\n      <td>1.7</td>\n    </tr>\n    <tr>\n      <th>2</th>\n      <td>Ohio</td>\n      <td>2002</td>\n      <td>3.6</td>\n    </tr>\n  </tbody>\n</table>\n</div>\n```\n:::\n:::\n\n\n### Filter -> `query`\n \n`R`\n\n```r\nfilter(df, col1 == 1, col2 == 1)\n```\n\n`Py`\n\n```python\ndf.query('col1 == 1 & col2 == 1')\n```\n\n::: {#34878ea4 .cell execution_count=28}\n``` {.python .cell-code}\nframe2\n\nframe2[frame2.state == \"Ohio\"]\n# Or\nframe2.query('state == \"Ohio\"')\n\nframe2.query('pop > 1.5')\n```\n\n::: {.cell-output .cell-output-display execution_count=28}\n```{=html}\n<div>\n<style scoped>\n    .dataframe tbody tr th:only-of-type {\n        vertical-align: middle;\n    }\n\n    .dataframe tbody tr th {\n        vertical-align: top;\n    }\n\n    .dataframe thead th {\n        text-align: right;\n    }\n</style>\n<table border=\"1\" class=\"dataframe\">\n  <thead>\n    <tr style=\"text-align: right;\">\n      <th></th>\n      <th>year</th>\n      <th>state</th>\n      <th>pop</th>\n      <th>debt</th>\n    </tr>\n  </thead>\n  <tbody>\n    <tr>\n      <th>1</th>\n      <td>2001</td>\n      <td>Ohio</td>\n      <td>1.7</td>\n      <td>NaN</td>\n    </tr>\n    <tr>\n      <th>2</th>\n      <td>2002</td>\n      <td>Ohio</td>\n      <td>3.6</td>\n      <td>NaN</td>\n    </tr>\n    <tr>\n      <th>3</th>\n      <td>2001</td>\n      <td>Nevada</td>\n      <td>2.4</td>\n      <td>NaN</td>\n    </tr>\n    <tr>\n      <th>4</th>\n      <td>2002</td>\n      <td>Nevada</td>\n      <td>2.9</td>\n      <td>NaN</td>\n    </tr>\n    <tr>\n      <th>5</th>\n      <td>2003</td>\n      <td>Nevada</td>\n      <td>3.2</td>\n      <td>NaN</td>\n    </tr>\n  </tbody>\n</table>\n</div>\n```\n:::\n:::\n\n\n### Mutate -> `assign`\n\n`R`: `mutate(df, c=a-b)`\n\n`Py`: `df.assign(c=df['a']-df['b'])`\n\n::: {#92da6751 .cell execution_count=29}\n``` {.python .cell-code}\nframe2.assign(pop2 = frame2[\"pop\"] * 2)\n```\n\n::: {.cell-output .cell-output-display execution_count=29}\n```{=html}\n<div>\n<style scoped>\n    .dataframe tbody tr th:only-of-type {\n        vertical-align: middle;\n    }\n\n    .dataframe tbody tr th {\n        vertical-align: top;\n    }\n\n    .dataframe thead th {\n        text-align: right;\n    }\n</style>\n<table border=\"1\" class=\"dataframe\">\n  <thead>\n    <tr style=\"text-align: right;\">\n      <th></th>\n      <th>year</th>\n      <th>state</th>\n      <th>pop</th>\n      <th>debt</th>\n      <th>pop2</th>\n    </tr>\n  </thead>\n  <tbody>\n    <tr>\n      <th>0</th>\n      <td>2000</td>\n      <td>Ohio</td>\n      <td>1.5</td>\n      <td>NaN</td>\n      <td>3.0</td>\n    </tr>\n    <tr>\n      <th>1</th>\n      <td>2001</td>\n      <td>Ohio</td>\n      <td>1.7</td>\n      <td>NaN</td>\n      <td>3.4</td>\n    </tr>\n    <tr>\n      <th>2</th>\n      <td>2002</td>\n      <td>Ohio</td>\n      <td>3.6</td>\n      <td>NaN</td>\n      <td>7.2</td>\n    </tr>\n    <tr>\n      <th>3</th>\n      <td>2001</td>\n      <td>Nevada</td>\n      <td>2.4</td>\n      <td>NaN</td>\n      <td>4.8</td>\n    </tr>\n    <tr>\n      <th>4</th>\n      <td>2002</td>\n      <td>Nevada</td>\n      <td>2.9</td>\n      <td>NaN</td>\n      <td>5.8</td>\n    </tr>\n    <tr>\n      <th>5</th>\n      <td>2003</td>\n      <td>Nevada</td>\n      <td>3.2</td>\n      <td>NaN</td>\n      <td>6.4</td>\n    </tr>\n  </tbody>\n</table>\n</div>\n```\n:::\n:::\n\n\n::: {#882a5cee .cell execution_count=30}\n``` {.python .cell-code}\nframe2[\"debt\"] = np.arange(6.)\nframe2\n```\n\n::: {.cell-output .cell-output-display execution_count=30}\n```{=html}\n<div>\n<style scoped>\n    .dataframe tbody tr th:only-of-type {\n        vertical-align: middle;\n    }\n\n    .dataframe tbody tr th {\n        vertical-align: top;\n    }\n\n    .dataframe thead th {\n        text-align: right;\n    }\n</style>\n<table border=\"1\" class=\"dataframe\">\n  <thead>\n    <tr style=\"text-align: right;\">\n      <th></th>\n      <th>year</th>\n      <th>state</th>\n      <th>pop</th>\n      <th>debt</th>\n    </tr>\n  </thead>\n  <tbody>\n    <tr>\n      <th>0</th>\n      <td>2000</td>\n      <td>Ohio</td>\n      <td>1.5</td>\n      <td>0.0</td>\n    </tr>\n    <tr>\n      <th>1</th>\n      <td>2001</td>\n      <td>Ohio</td>\n      <td>1.7</td>\n      <td>1.0</td>\n    </tr>\n    <tr>\n      <th>2</th>\n      <td>2002</td>\n      <td>Ohio</td>\n      <td>3.6</td>\n      <td>2.0</td>\n    </tr>\n    <tr>\n      <th>3</th>\n      <td>2001</td>\n      <td>Nevada</td>\n      <td>2.4</td>\n      <td>3.0</td>\n    </tr>\n    <tr>\n      <th>4</th>\n      <td>2002</td>\n      <td>Nevada</td>\n      <td>2.9</td>\n      <td>4.0</td>\n    </tr>\n    <tr>\n      <th>5</th>\n      <td>2003</td>\n      <td>Nevada</td>\n      <td>3.2</td>\n      <td>5.0</td>\n    </tr>\n  </tbody>\n</table>\n</div>\n```\n:::\n:::\n\n\nAssign by index of series \n\n::: {#a4105d2e .cell execution_count=31}\n``` {.python .cell-code}\nval = pd.Series([-1.2, -1.5, -1.7], index=[2, 4, 5])\nval\n```\n\n::: {.cell-output .cell-output-display execution_count=31}\n```\n2   -1.2\n4   -1.5\n5   -1.7\ndtype: float64\n```\n:::\n:::\n\n\n::: {#1b92d30d .cell execution_count=32}\n``` {.python .cell-code}\nframe2.debt = val\nframe2\n```\n\n::: {.cell-output .cell-output-display execution_count=32}\n```{=html}\n<div>\n<style scoped>\n    .dataframe tbody tr th:only-of-type {\n        vertical-align: middle;\n    }\n\n    .dataframe tbody tr th {\n        vertical-align: top;\n    }\n\n    .dataframe thead th {\n        text-align: right;\n    }\n</style>\n<table border=\"1\" class=\"dataframe\">\n  <thead>\n    <tr style=\"text-align: right;\">\n      <th></th>\n      <th>year</th>\n      <th>state</th>\n      <th>pop</th>\n      <th>debt</th>\n    </tr>\n  </thead>\n  <tbody>\n    <tr>\n      <th>0</th>\n      <td>2000</td>\n      <td>Ohio</td>\n      <td>1.5</td>\n      <td>NaN</td>\n    </tr>\n    <tr>\n      <th>1</th>\n      <td>2001</td>\n      <td>Ohio</td>\n      <td>1.7</td>\n      <td>NaN</td>\n    </tr>\n    <tr>\n      <th>2</th>\n      <td>2002</td>\n      <td>Ohio</td>\n      <td>3.6</td>\n      <td>-1.2</td>\n    </tr>\n    <tr>\n      <th>3</th>\n      <td>2001</td>\n      <td>Nevada</td>\n      <td>2.4</td>\n      <td>NaN</td>\n    </tr>\n    <tr>\n      <th>4</th>\n      <td>2002</td>\n      <td>Nevada</td>\n      <td>2.9</td>\n      <td>-1.5</td>\n    </tr>\n    <tr>\n      <th>5</th>\n      <td>2003</td>\n      <td>Nevada</td>\n      <td>3.2</td>\n      <td>-1.7</td>\n    </tr>\n  </tbody>\n</table>\n</div>\n```\n:::\n:::\n\n\n::: {#8456c0ca .cell execution_count=33}\n``` {.python .cell-code}\nframe2[\"pop2\"] = frame2[\"pop\"] * 2\nframe2\n```\n\n::: {.cell-output .cell-output-display execution_count=33}\n```{=html}\n<div>\n<style scoped>\n    .dataframe tbody tr th:only-of-type {\n        vertical-align: middle;\n    }\n\n    .dataframe tbody tr th {\n        vertical-align: top;\n    }\n\n    .dataframe thead th {\n        text-align: right;\n    }\n</style>\n<table border=\"1\" class=\"dataframe\">\n  <thead>\n    <tr style=\"text-align: right;\">\n      <th></th>\n      <th>year</th>\n      <th>state</th>\n      <th>pop</th>\n      <th>debt</th>\n      <th>pop2</th>\n    </tr>\n  </thead>\n  <tbody>\n    <tr>\n      <th>0</th>\n      <td>2000</td>\n      <td>Ohio</td>\n      <td>1.5</td>\n      <td>NaN</td>\n      <td>3.0</td>\n    </tr>\n    <tr>\n      <th>1</th>\n      <td>2001</td>\n      <td>Ohio</td>\n      <td>1.7</td>\n      <td>NaN</td>\n      <td>3.4</td>\n    </tr>\n    <tr>\n      <th>2</th>\n      <td>2002</td>\n      <td>Ohio</td>\n      <td>3.6</td>\n      <td>-1.2</td>\n      <td>7.2</td>\n    </tr>\n    <tr>\n      <th>3</th>\n      <td>2001</td>\n      <td>Nevada</td>\n      <td>2.4</td>\n      <td>NaN</td>\n      <td>4.8</td>\n    </tr>\n    <tr>\n      <th>4</th>\n      <td>2002</td>\n      <td>Nevada</td>\n      <td>2.9</td>\n      <td>-1.5</td>\n      <td>5.8</td>\n    </tr>\n    <tr>\n      <th>5</th>\n      <td>2003</td>\n      <td>Nevada</td>\n      <td>3.2</td>\n      <td>-1.7</td>\n      <td>6.4</td>\n    </tr>\n  </tbody>\n</table>\n</div>\n```\n:::\n:::\n\n\n### Rename\n\n```r\nrename(df, col_one = col1)\n```\n\n```python\ndf.rename(columns={'col1': 'col_one'})\n```\n\n::: {#f2136f98 .cell execution_count=34}\n``` {.python .cell-code}\nframe2.rename(columns = {'year': 'yr'})\n```\n\n::: {.cell-output .cell-output-display execution_count=34}\n```{=html}\n<div>\n<style scoped>\n    .dataframe tbody tr th:only-of-type {\n        vertical-align: middle;\n    }\n\n    .dataframe tbody tr th {\n        vertical-align: top;\n    }\n\n    .dataframe thead th {\n        text-align: right;\n    }\n</style>\n<table border=\"1\" class=\"dataframe\">\n  <thead>\n    <tr style=\"text-align: right;\">\n      <th></th>\n      <th>yr</th>\n      <th>state</th>\n      <th>pop</th>\n      <th>debt</th>\n      <th>pop2</th>\n    </tr>\n  </thead>\n  <tbody>\n    <tr>\n      <th>0</th>\n      <td>2000</td>\n      <td>Ohio</td>\n      <td>1.5</td>\n      <td>NaN</td>\n      <td>3.0</td>\n    </tr>\n    <tr>\n      <th>1</th>\n      <td>2001</td>\n      <td>Ohio</td>\n      <td>1.7</td>\n      <td>NaN</td>\n      <td>3.4</td>\n    </tr>\n    <tr>\n      <th>2</th>\n      <td>2002</td>\n      <td>Ohio</td>\n      <td>3.6</td>\n      <td>-1.2</td>\n      <td>7.2</td>\n    </tr>\n    <tr>\n      <th>3</th>\n      <td>2001</td>\n      <td>Nevada</td>\n      <td>2.4</td>\n      <td>NaN</td>\n      <td>4.8</td>\n    </tr>\n    <tr>\n      <th>4</th>\n      <td>2002</td>\n      <td>Nevada</td>\n      <td>2.9</td>\n      <td>-1.5</td>\n      <td>5.8</td>\n    </tr>\n    <tr>\n      <th>5</th>\n      <td>2003</td>\n      <td>Nevada</td>\n      <td>3.2</td>\n      <td>-1.7</td>\n      <td>6.4</td>\n    </tr>\n  </tbody>\n</table>\n</div>\n```\n:::\n:::\n\n\n### Summarize\n\n::: {#05e37a45 .cell execution_count=35}\n``` {.python .cell-code}\nframe2.describe()\n```\n\n::: {.cell-output .cell-output-display execution_count=35}\n```{=html}\n<div>\n<style scoped>\n    .dataframe tbody tr th:only-of-type {\n        vertical-align: middle;\n    }\n\n    .dataframe tbody tr th {\n        vertical-align: top;\n    }\n\n    .dataframe thead th {\n        text-align: right;\n    }\n</style>\n<table border=\"1\" class=\"dataframe\">\n  <thead>\n    <tr style=\"text-align: right;\">\n      <th></th>\n      <th>year</th>\n      <th>pop</th>\n      <th>debt</th>\n      <th>pop2</th>\n    </tr>\n  </thead>\n  <tbody>\n    <tr>\n      <th>count</th>\n      <td>6.000000</td>\n      <td>6.000000</td>\n      <td>3.000000</td>\n      <td>6.000000</td>\n    </tr>\n    <tr>\n      <th>mean</th>\n      <td>2001.500000</td>\n      <td>2.550000</td>\n      <td>-1.466667</td>\n      <td>5.100000</td>\n    </tr>\n    <tr>\n      <th>std</th>\n      <td>1.048809</td>\n      <td>0.836062</td>\n      <td>0.251661</td>\n      <td>1.672124</td>\n    </tr>\n    <tr>\n      <th>min</th>\n      <td>2000.000000</td>\n      <td>1.500000</td>\n      <td>-1.700000</td>\n      <td>3.000000</td>\n    </tr>\n    <tr>\n      <th>25%</th>\n      <td>2001.000000</td>\n      <td>1.875000</td>\n      <td>-1.600000</td>\n      <td>3.750000</td>\n    </tr>\n    <tr>\n      <th>50%</th>\n      <td>2001.500000</td>\n      <td>2.650000</td>\n      <td>-1.500000</td>\n      <td>5.300000</td>\n    </tr>\n    <tr>\n      <th>75%</th>\n      <td>2002.000000</td>\n      <td>3.125000</td>\n      <td>-1.350000</td>\n      <td>6.250000</td>\n    </tr>\n    <tr>\n      <th>max</th>\n      <td>2003.000000</td>\n      <td>3.600000</td>\n      <td>-1.200000</td>\n      <td>7.200000</td>\n    </tr>\n  </tbody>\n</table>\n</div>\n```\n:::\n:::\n\n\n### Group by, Summarize\n\n::: {#2cccb95c .cell execution_count=36}\n``` {.python .cell-code}\nframe2.head()\n```\n\n::: {.cell-output .cell-output-display execution_count=36}\n```{=html}\n<div>\n<style scoped>\n    .dataframe tbody tr th:only-of-type {\n        vertical-align: middle;\n    }\n\n    .dataframe tbody tr th {\n        vertical-align: top;\n    }\n\n    .dataframe thead th {\n        text-align: right;\n    }\n</style>\n<table border=\"1\" class=\"dataframe\">\n  <thead>\n    <tr style=\"text-align: right;\">\n      <th></th>\n      <th>year</th>\n      <th>state</th>\n      <th>pop</th>\n      <th>debt</th>\n      <th>pop2</th>\n    </tr>\n  </thead>\n  <tbody>\n    <tr>\n      <th>0</th>\n      <td>2000</td>\n      <td>Ohio</td>\n      <td>1.5</td>\n      <td>NaN</td>\n      <td>3.0</td>\n    </tr>\n    <tr>\n      <th>1</th>\n      <td>2001</td>\n      <td>Ohio</td>\n      <td>1.7</td>\n      <td>NaN</td>\n      <td>3.4</td>\n    </tr>\n    <tr>\n      <th>2</th>\n      <td>2002</td>\n      <td>Ohio</td>\n      <td>3.6</td>\n      <td>-1.2</td>\n      <td>7.2</td>\n    </tr>\n    <tr>\n      <th>3</th>\n      <td>2001</td>\n      <td>Nevada</td>\n      <td>2.4</td>\n      <td>NaN</td>\n      <td>4.8</td>\n    </tr>\n    <tr>\n      <th>4</th>\n      <td>2002</td>\n      <td>Nevada</td>\n      <td>2.9</td>\n      <td>-1.5</td>\n      <td>5.8</td>\n    </tr>\n  </tbody>\n</table>\n</div>\n```\n:::\n:::\n\n\n::: {#13a53d11 .cell execution_count=37}\n``` {.python .cell-code}\nframe2.groupby('state').agg({'pop': 'mean'})\n```\n\n::: {.cell-output .cell-output-display execution_count=37}\n```{=html}\n<div>\n<style scoped>\n    .dataframe tbody tr th:only-of-type {\n        vertical-align: middle;\n    }\n\n    .dataframe tbody tr th {\n        vertical-align: top;\n    }\n\n    .dataframe thead th {\n        text-align: right;\n    }\n</style>\n<table border=\"1\" class=\"dataframe\">\n  <thead>\n    <tr style=\"text-align: right;\">\n      <th></th>\n      <th>pop</th>\n    </tr>\n    <tr>\n      <th>state</th>\n      <th></th>\n    </tr>\n  </thead>\n  <tbody>\n    <tr>\n      <th>Nevada</th>\n      <td>2.833333</td>\n    </tr>\n    <tr>\n      <th>Ohio</th>\n      <td>2.266667</td>\n    </tr>\n  </tbody>\n</table>\n</div>\n```\n:::\n:::\n\n\n### Count\n\n::: {#a08a7c38 .cell execution_count=38}\n``` {.python .cell-code}\nframe2.value_counts(\"year\")\n```\n\n::: {.cell-output .cell-output-display execution_count=38}\n```\nyear\n2001    2\n2002    2\n2000    1\n2003    1\nName: count, dtype: int64\n```\n:::\n:::\n\n\n::: {#38d4ad51 .cell execution_count=39}\n``` {.python .cell-code}\nframe2.value_counts([\"year\", \"state\"], sort=True)\n```\n\n::: {.cell-output .cell-output-display execution_count=39}\n```\nyear  state \n2000  Ohio      1\n2001  Nevada    1\n      Ohio      1\n2002  Nevada    1\n      Ohio      1\n2003  Nevada    1\nName: count, dtype: int64\n```\n:::\n:::\n\n\n",
    "supporting": [
      "pd-intro_files"
    ],
    "filters": [],
    "includes": {
      "include-in-header": [
        "<script src=\"https://cdnjs.cloudflare.com/ajax/libs/require.js/2.3.6/require.min.js\" integrity=\"sha512-c3Nl8+7g4LMSTdrm621y7kf9v3SDPnhxLNhcjFJbKECVnmZHTdo+IRO05sNLTH/D3vA6u1X32ehoLC7WFVdheg==\" crossorigin=\"anonymous\"></script>\n<script src=\"https://cdnjs.cloudflare.com/ajax/libs/jquery/3.5.1/jquery.min.js\" integrity=\"sha512-bLT0Qm9VnAYZDflyKcBaQ2gg0hSYNQrJ8RilYldYQ1FxQYoCLtUjuuRuZo+fjqhx/qtq/1itJ0C2ejDxltZVFg==\" crossorigin=\"anonymous\" data-relocate-top=\"true\"></script>\n<script type=\"application/javascript\">define('jquery', [],function() {return window.jQuery;})</script>\n"
      ]
    }
  }
}